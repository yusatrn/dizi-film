"use strict";(self.webpackChunkfilm_dizi_oneri=self.webpackChunkfilm_dizi_oneri||[]).push([[423],{2423:(x,c,s)=>{s.r(c),s.d(c,{SearchComponent:()=>y});var o=s(177),l=s(5776),d=s(5312),e=s(4438),_=s(8543);function g(n,a){1&n&&(e.j41(0,"div",6)(1,"div",7)(2,"span",8),e.EFF(3,"Y\xfckleniyor..."),e.k0s()()())}function h(n,a){if(1&n&&(e.j41(0,"div",9),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",t.error," ")}}function m(n,a){if(1&n&&(e.j41(0,"div",13),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(' "',t.searchQuery,'" i\xe7in sonu\xe7 bulunamad\u0131. ')}}function p(n,a){if(1&n&&e.nrm(0,"img",26),2&n){const t=e.XpG().$implicit,i=e.XpG(3);e.Y8G("src",i.imageBaseUrl+"w500"+t.poster_path,e.B4B)("alt",i.getTitle(t))}}function u(n,a){1&n&&(e.j41(0,"div",27)(1,"span"),e.EFF(2,"G\xf6rsel Yok"),e.k0s()())}function f(n,a){if(1&n&&(e.j41(0,"div",16)(1,"div",17)(2,"div",18),e.EFF(3),e.k0s(),e.DNE(4,p,1,2,"img",19)(5,u,3,0,"ng-template",null,0,e.C5r),e.j41(7,"div",20)(8,"h5",21),e.EFF(9),e.k0s(),e.j41(10,"div",22)(11,"span",23),e.EFF(12),e.nI1(13,"number"),e.k0s()(),e.j41(14,"p",24),e.EFF(15),e.nI1(16,"date"),e.k0s(),e.j41(17,"a",25),e.EFF(18,"Detaylar"),e.k0s()()()()),2&n){const t=a.$implicit,i=e.sdS(6),r=e.XpG(3);e.R7$(3),e.SpI(" ","movie"===t.media_type?"Film":"Dizi"," "),e.R7$(),e.Y8G("ngIf",t.poster_path)("ngIfElse",i),e.R7$(5),e.JRh(r.getTitle(t)),e.R7$(3),e.JRh(e.i5U(13,7,t.vote_average,"1.1-1")),e.R7$(3),e.JRh(e.i5U(16,10,r.getReleaseDate(t),"dd.MM.yyyy")),e.R7$(2),e.Y8G("routerLink",r.getDetailUrl(t))}}function v(n,a){if(1&n&&(e.j41(0,"div",14),e.DNE(1,f,19,13,"div",15),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.searchResults)}}function P(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",28)(1,"button",29),e.bIt("click",function(){e.eBV(t);const r=e.XpG(2);return e.Njj(r.loadPreviousPage())}),e.nrm(2,"i",30),e.EFF(3," \xd6nceki "),e.k0s(),e.j41(4,"span",31),e.EFF(5),e.k0s(),e.j41(6,"button",32),e.bIt("click",function(){e.eBV(t);const r=e.XpG(2);return e.Njj(r.loadNextPage())}),e.EFF(7," Sonraki "),e.nrm(8,"i",33),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(),e.Y8G("disabled",1===t.currentPage),e.R7$(4),e.Lme(" Sayfa ",t.currentPage," / ",t.totalPages," "),e.R7$(),e.Y8G("disabled",t.currentPage===t.totalPages)}}function b(n,a){if(1&n&&(e.j41(0,"div"),e.DNE(1,m,2,1,"div",10)(2,v,2,1,"div",11)(3,P,9,4,"div",12),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",0===t.searchResults.length),e.R7$(),e.Y8G("ngIf",t.searchResults.length>0),e.R7$(),e.Y8G("ngIf",t.searchResults.length>0)}}let y=(()=>{class n{constructor(t,i){this.contentService=t,this.route=i,this.searchResults=[],this.searchQuery="",this.imageBaseUrl=d.c.imageBaseUrl,this.isLoading=!0,this.error=null,this.currentPage=1,this.totalPages=1}ngOnInit(){this.route.queryParams.subscribe(t=>{t.q&&(this.searchQuery=t.q,this.search())})}search(){this.isLoading=!0,this.error=null,this.contentService.searchContent(this.searchQuery,this.currentPage).subscribe({next:t=>{this.searchResults=t.results.filter(i=>"movie"===i.media_type||"tv"===i.media_type),this.totalPages=t.total_pages,this.isLoading=!1},error:t=>{this.error="Arama yap\u0131l\u0131rken bir hata olu\u015ftu",this.isLoading=!1,console.error(t)}})}getTitle(t){return"movie"===t.media_type?t.title:t.name}getReleaseDate(t){return"movie"===t.media_type?t.release_date:t.first_air_date}getDetailUrl(t){return`/detay/${"movie"===t.media_type?"film":"dizi"}/${t.id}`}loadPreviousPage(){this.currentPage>1&&(this.currentPage--,this.search(),window.scrollTo(0,0))}loadNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.search(),window.scrollTo(0,0))}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(_.f),e.rXU(l.nX))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-search"]],standalone:!0,features:[e.aNF],decls:6,vars:4,consts:[["noImage",""],[1,"container"],[1,"page-title","my-4"],["class","text-center my-5",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],[1,"text-center","my-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"alert","alert-danger"],["class","alert alert-info",4,"ngIf"],["class","row",4,"ngIf"],["class","pagination-container d-flex justify-content-center my-4",4,"ngIf"],[1,"alert","alert-info"],[1,"row"],["class","col-sm-6 col-md-4 col-lg-3 mb-4",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4","col-lg-3","mb-4"],[1,"card","search-card","h-100"],[1,"media-type-badge"],["class","card-img-top",3,"src","alt",4,"ngIf","ngIfElse"],[1,"card-body"],[1,"card-title"],[1,"rating","mb-2"],[1,"badge","bg-warning","text-dark"],[1,"card-text","release-date"],[1,"btn","btn-primary",3,"routerLink"],[1,"card-img-top",3,"src","alt"],[1,"no-image","d-flex","align-items-center","justify-content-center","bg-light"],[1,"pagination-container","d-flex","justify-content-center","my-4"],[1,"btn","btn-outline-primary","me-2",3,"click","disabled"],[1,"bi","bi-chevron-left"],[1,"pagination-info","align-self-center","mx-3"],[1,"btn","btn-outline-primary","ms-2",3,"click","disabled"],[1,"bi","bi-chevron-right"]],template:function(i,r){1&i&&(e.j41(0,"div",1)(1,"h1",2),e.EFF(2),e.k0s(),e.DNE(3,g,4,0,"div",3)(4,h,2,1,"div",4)(5,b,4,3,"div",5),e.k0s()),2&i&&(e.R7$(2),e.SpI('Arama Sonu\xe7lar\u0131: "',r.searchQuery,'"'),e.R7$(),e.Y8G("ngIf",r.isLoading),e.R7$(),e.Y8G("ngIf",r.error),e.R7$(),e.Y8G("ngIf",!r.isLoading&&!r.error))},dependencies:[o.MD,o.Sq,o.bT,o.QX,o.vh,l.Wk],styles:[".search-card[_ngcontent-%COMP%]{transition:transform .3s,box-shadow .3s}.search-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0000001a}.search-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.search-card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{height:300px;object-fit:cover}.search-card[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{height:300px;background-color:#e9ecef}.search-card[_ngcontent-%COMP%]   .release-date[_ngcontent-%COMP%]{font-size:.8rem;color:#6c757d}.media-type-badge[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background-color:#000000b3;color:#fff;padding:3px 8px;border-radius:4px;font-size:.8rem;z-index:1}.pagination-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{font-weight:500}"]})}}return n})()}}]);