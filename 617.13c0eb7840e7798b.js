"use strict";(self.webpackChunkfilm_dizi_oneri=self.webpackChunkfilm_dizi_oneri||[]).push([[617],{1617:(k,l,s)=>{s.r(l),s.d(l,{MovieListComponent:()=>x});var a=s(177),g=s(5776),m=s(5312),e=s(4438),_=s(8543);const c=(i,r)=>({"btn-primary":i,"btn-outline-secondary":r}),v=(i,r,t)=>({"text-danger":i,"text-warning":r,"text-success":t}),p=i=>["/detay","film",i];function u(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",9),e.bIt("click",function(){const n=e.eBV(t).$implicit,d=e.XpG();return e.Njj(d.filterByGenre(n.id))}),e.EFF(1),e.k0s()}if(2&i){const t=r.$implicit,o=e.XpG();e.Y8G("ngClass",e.l_i(2,c,o.selectedGenre===t.id,o.selectedGenre!==t.id)),e.R7$(),e.SpI(" ",t.name," ")}}function f(i,r){1&i&&(e.j41(0,"div",15)(1,"div",16)(2,"span",17),e.EFF(3,"Y\xfckleniyor..."),e.k0s()()())}function h(i,r){if(1&i&&(e.j41(0,"div",18),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.error," ")}}function b(i,r){1&i&&(e.j41(0,"div",19),e.EFF(1," Bu kriterlere uygun film bulunamad\u0131. "),e.k0s())}function F(i,r){if(1&i&&e.nrm(0,"img",41),2&i){const t=e.XpG().$implicit,o=e.XpG(2);e.Y8G("src",o.imageBaseUrl+"w500"+t.poster_path,e.B4B)("alt",t.title)}}function M(i,r){1&i&&(e.j41(0,"div",42)(1,"span"),e.EFF(2,"G\xf6rsel Yok"),e.k0s()())}function P(i,r){if(1&i&&(e.j41(0,"div",28)(1,"div",29)(2,"div",30)(3,"span",31),e.nrm(4,"i",32),e.EFF(5),e.nI1(6,"number"),e.k0s()(),e.DNE(7,F,1,2,"img",33)(8,M,3,0,"ng-template",null,0,e.C5r),e.j41(10,"div",34)(11,"h5",35),e.EFF(12),e.k0s(),e.j41(13,"div",36)(14,"span",5),e.EFF(15),e.k0s(),e.j41(16,"span",37),e.nrm(17,"i",38),e.EFF(18),e.k0s()(),e.j41(19,"p",39),e.EFF(20),e.nI1(21,"slice"),e.k0s(),e.j41(22,"a",40),e.EFF(23,"Detaylar"),e.k0s()()()()),2&i){const t=r.$implicit,o=e.sdS(9),n=e.XpG(2);e.R7$(3),e.Y8G("ngClass",e.sMw(18,v,t.vote_average<5,t.vote_average>=5&&t.vote_average<7,t.vote_average>=7)),e.R7$(2),e.SpI(" ",e.i5U(6,11,t.vote_average,"1.1-1")," "),e.R7$(2),e.Y8G("ngIf",t.poster_path)("ngIfElse",o),e.R7$(4),e.Y8G("title",t.title),e.R7$(),e.JRh(t.title),e.R7$(3),e.JRh(n.getYear(t.release_date)),e.R7$(3),e.SpI(" ",t.vote_count," "),e.R7$(2),e.Lme("",e.brH(21,14,t.overview,0,100),"",t.overview.length>100?"...":"",""),e.R7$(2),e.Y8G("routerLink",e.eq3(22,p,t.id))}}function C(i,r){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",20),e.DNE(2,P,24,24,"div",21),e.k0s(),e.j41(3,"div",22)(4,"button",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadPreviousPage())}),e.nrm(5,"i",24),e.EFF(6," \xd6nceki "),e.k0s(),e.j41(7,"span",25),e.EFF(8),e.k0s(),e.j41(9,"button",26),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadNextPage())}),e.EFF(10," Sonraki "),e.nrm(11,"i",27),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("ngForOf",t.movies),e.R7$(2),e.Y8G("disabled",1===t.currentPage),e.R7$(4),e.Lme(" Sayfa ",t.currentPage," / ",t.totalPages," "),e.R7$(),e.Y8G("disabled",t.currentPage===t.totalPages)}}let x=(()=>{class i{constructor(t){this.contentService=t,this.movies=[],this.imageBaseUrl=m.c.imageBaseUrl,this.isLoading=!0,this.error=null,this.currentPage=1,this.totalPages=1,this.genres=[],this.selectedGenre=null}ngOnInit(){this.loadMovies(),this.loadGenres()}loadMovies(){this.isLoading=!0,this.contentService.getPopularMovies(this.currentPage).subscribe({next:t=>{this.movies=t.results,this.totalPages=Math.min(t.total_pages,500),this.isLoading=!1},error:t=>{this.error="Filmler y\xfcklenirken bir hata olu\u015ftu",this.isLoading=!1,console.error(t)}})}loadGenres(){this.contentService.getMovieGenres().subscribe({next:t=>{this.genres=t.genres},error:t=>{console.error("Film t\xfcrleri y\xfcklenirken hata olu\u015ftu:",t)}})}filterByGenre(t){this.selectedGenre=t,this.currentPage=1,this.loadFilteredMovies()}loadFilteredMovies(){this.isLoading=!0,this.selectedGenre?this.contentService.getMoviesByGenre(this.selectedGenre,this.currentPage).subscribe({next:t=>{this.movies=t.results,this.totalPages=Math.min(t.total_pages,500),this.isLoading=!1},error:t=>{this.error="Filmler filtrelenirken bir hata olu\u015ftu",this.isLoading=!1,console.error(t)}}):this.loadMovies()}loadPreviousPage(){this.currentPage>1&&(this.currentPage--,this.selectedGenre?this.loadFilteredMovies():this.loadMovies(),window.scrollTo(0,0))}loadNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.selectedGenre?this.loadFilteredMovies():this.loadMovies(),window.scrollTo(0,0))}getYear(t){return t?new Date(t).getFullYear().toString():"Bilinmiyor"}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(_.f))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-movie-list"]],standalone:!0,features:[e.aNF],decls:18,vars:9,consts:[["noImage",""],[1,"container"],[1,"row","mb-4"],[1,"col"],[1,"page-title"],[1,"text-muted"],[1,"genres-filter","mb-4"],[1,"d-flex","flex-wrap","align-items-center"],[1,"me-3","mb-2"],[1,"btn","btn-sm","mb-2","me-2",3,"click","ngClass"],["class","btn btn-sm mb-2 me-2",3,"ngClass","click",4,"ngFor","ngForOf"],["class","text-center my-5",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-info",4,"ngIf"],[4,"ngIf"],[1,"text-center","my-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"alert","alert-danger"],[1,"alert","alert-info"],[1,"row"],["class","col-sm-6 col-md-4 col-lg-3 mb-4",4,"ngFor","ngForOf"],[1,"pagination-container","d-flex","justify-content-center","my-4"],[1,"btn","btn-outline-primary","me-2",3,"click","disabled"],[1,"bi","bi-chevron-left"],[1,"pagination-info","align-self-center","mx-3"],[1,"btn","btn-outline-primary","ms-2",3,"click","disabled"],[1,"bi","bi-chevron-right"],[1,"col-sm-6","col-md-4","col-lg-3","mb-4"],[1,"card","movie-card","h-100"],[1,"card-rating-badge"],[3,"ngClass"],[1,"bi","bi-star-fill"],["class","card-img-top",3,"src","alt",4,"ngIf","ngIfElse"],[1,"card-body"],[1,"card-title",3,"title"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"badge","bg-light","text-dark","border"],[1,"bi","bi-hand-thumbs-up"],[1,"card-text","movie-overview"],[1,"btn","btn-primary","w-100",3,"routerLink"],[1,"card-img-top",3,"src","alt"],[1,"no-image","d-flex","align-items-center","justify-content-center","bg-light"]],template:function(o,n){1&o&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),e.EFF(4,"Filmler"),e.k0s(),e.j41(5,"p",5),e.EFF(6,"Pop\xfcler filmleri ke\u015ffedin ve detaylar\u0131n\u0131 inceleyin"),e.k0s()()(),e.j41(7,"div",6)(8,"div",7)(9,"h5",8),e.EFF(10,"T\xfcrler:"),e.k0s(),e.j41(11,"button",9),e.bIt("click",function(){return n.filterByGenre(null)}),e.EFF(12," T\xfcm\xfc "),e.k0s(),e.DNE(13,u,2,5,"button",10),e.k0s()(),e.DNE(14,f,4,0,"div",11)(15,h,2,1,"div",12)(16,b,2,0,"div",13)(17,C,12,5,"div",14),e.k0s()),2&o&&(e.R7$(11),e.Y8G("ngClass",e.l_i(6,c,null===n.selectedGenre,null!==n.selectedGenre)),e.R7$(2),e.Y8G("ngForOf",n.genres),e.R7$(),e.Y8G("ngIf",n.isLoading),e.R7$(),e.Y8G("ngIf",n.error),e.R7$(),e.Y8G("ngIf",!n.isLoading&&!n.error&&0===n.movies.length),e.R7$(),e.Y8G("ngIf",!n.isLoading&&!n.error&&n.movies.length>0))},dependencies:[a.MD,a.YU,a.Sq,a.bT,a.P9,a.QX,g.Wk],styles:['.page-title[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;padding-bottom:10px;font-weight:700}.page-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:60px;height:3px;background-color:#007bff}.genres-filter[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:15px;border-radius:10px;box-shadow:0 2px 5px #0000000d}.movie-card[_ngcontent-%COMP%]{transition:transform .3s,box-shadow .3s;position:relative}.movie-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0000001a}.movie-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:10px}.movie-card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{height:350px;object-fit:cover}.movie-card[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{height:350px;background-color:#e9ecef}.movie-card[_ngcontent-%COMP%]   .card-rating-badge[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background-color:#000000b3;color:#fff;padding:5px 10px;border-radius:20px;font-weight:600;font-size:.9rem;z-index:1}.movie-card[_ngcontent-%COMP%]   .movie-overview[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;margin-bottom:15px;height:60px;overflow:hidden}.pagination-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{font-weight:500;background-color:#f8f9fa;padding:8px 15px;border-radius:20px}.pagination-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:100px}']})}}return i})()}}]);