"use strict";(self.webpackChunkfilm_dizi_oneri=self.webpackChunkfilm_dizi_oneri||[]).push([[321],{7321:(T,l,s)=>{s.r(l),s.d(l,{TvListComponent:()=>k});var a=s(177),g=s(5776),_=s(5312),t=s(4438),v=s(8543);const c=(n,r)=>({"btn-primary":n,"btn-outline-secondary":r}),p=(n,r,e)=>({"text-danger":n,"text-warning":r,"text-success":e}),m=n=>["/detay","dizi",n];function u(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",9),t.bIt("click",function(){const i=t.eBV(e).$implicit,d=t.XpG();return t.Njj(d.filterByGenre(i.id))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit,o=t.XpG();t.Y8G("ngClass",t.l_i(2,c,o.selectedGenre===e.id,o.selectedGenre!==e.id)),t.R7$(),t.SpI(" ",e.name," ")}}function h(n,r){1&n&&(t.j41(0,"div",15)(1,"div",16)(2,"span",17),t.EFF(3,"Y\xfckleniyor..."),t.k0s()()())}function f(n,r){if(1&n&&(t.j41(0,"div",18),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.error," ")}}function b(n,r){1&n&&(t.j41(0,"div",19),t.EFF(1," Bu kriterlere uygun dizi bulunamad\u0131. "),t.k0s())}function F(n,r){if(1&n&&t.nrm(0,"img",41),2&n){const e=t.XpG().$implicit,o=t.XpG(2);t.Y8G("src",o.imageBaseUrl+"w500"+e.poster_path,t.B4B)("alt",e.name)}}function P(n,r){1&n&&(t.j41(0,"div",42)(1,"span"),t.EFF(2,"G\xf6rsel Yok"),t.k0s()())}function C(n,r){if(1&n&&(t.j41(0,"div",28)(1,"div",29)(2,"div",30)(3,"span",31),t.nrm(4,"i",32),t.EFF(5),t.nI1(6,"number"),t.k0s()(),t.DNE(7,F,1,2,"img",33)(8,P,3,0,"ng-template",null,0,t.C5r),t.j41(10,"div",34)(11,"h5",35),t.EFF(12),t.k0s(),t.j41(13,"div",36)(14,"span",5),t.EFF(15),t.k0s(),t.j41(16,"span",37),t.nrm(17,"i",38),t.EFF(18),t.k0s()(),t.j41(19,"p",39),t.EFF(20),t.nI1(21,"slice"),t.k0s(),t.j41(22,"a",40),t.EFF(23,"Detaylar"),t.k0s()()()()),2&n){const e=r.$implicit,o=t.sdS(9),i=t.XpG(2);t.R7$(3),t.Y8G("ngClass",t.sMw(18,p,e.vote_average<5,e.vote_average>=5&&e.vote_average<7,e.vote_average>=7)),t.R7$(2),t.SpI(" ",t.i5U(6,11,e.vote_average,"1.1-1")," "),t.R7$(2),t.Y8G("ngIf",e.poster_path)("ngIfElse",o),t.R7$(4),t.Y8G("title",e.name),t.R7$(),t.JRh(e.name),t.R7$(3),t.JRh(i.getYear(e.first_air_date)),t.R7$(3),t.SpI(" ",e.vote_count," "),t.R7$(2),t.Lme("",t.brH(21,14,e.overview,0,100),"",e.overview.length>100?"...":"",""),t.R7$(2),t.Y8G("routerLink",t.eq3(22,m,e.id))}}function x(n,r){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"div",20),t.DNE(2,C,24,24,"div",21),t.k0s(),t.j41(3,"div",22)(4,"button",23),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.loadPreviousPage())}),t.nrm(5,"i",24),t.EFF(6," \xd6nceki "),t.k0s(),t.j41(7,"span",25),t.EFF(8),t.k0s(),t.j41(9,"button",26),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.loadNextPage())}),t.EFF(10," Sonraki "),t.nrm(11,"i",27),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.tvShows),t.R7$(2),t.Y8G("disabled",1===e.currentPage),t.R7$(4),t.Lme(" Sayfa ",e.currentPage," / ",e.totalPages," "),t.R7$(),t.Y8G("disabled",e.currentPage===e.totalPages)}}let k=(()=>{class n{constructor(e){this.contentService=e,this.tvShows=[],this.imageBaseUrl=_.c.imageBaseUrl,this.isLoading=!0,this.error=null,this.currentPage=1,this.totalPages=1,this.genres=[],this.selectedGenre=null}ngOnInit(){this.loadTvShows(),this.loadGenres()}loadTvShows(){this.isLoading=!0,this.contentService.getPopularTvShows(this.currentPage).subscribe({next:e=>{this.tvShows=e.results,this.totalPages=Math.min(e.total_pages,500),this.isLoading=!1},error:e=>{this.error="Diziler y\xfcklenirken bir hata olu\u015ftu",this.isLoading=!1,console.error(e)}})}loadGenres(){this.contentService.getTvGenres().subscribe({next:e=>{this.genres=e.genres},error:e=>{console.error("Dizi t\xfcrleri y\xfcklenirken hata olu\u015ftu:",e)}})}filterByGenre(e){this.selectedGenre=e,this.currentPage=1,this.loadFilteredTvShows()}loadFilteredTvShows(){this.isLoading=!0,this.selectedGenre?this.contentService.getTvShowsByGenre(this.selectedGenre,this.currentPage).subscribe({next:e=>{this.tvShows=e.results,this.totalPages=Math.min(e.total_pages,500),this.isLoading=!1},error:e=>{this.error="Diziler filtrelenirken bir hata olu\u015ftu",this.isLoading=!1,console.error(e)}}):this.loadTvShows()}loadPreviousPage(){this.currentPage>1&&(this.currentPage--,this.selectedGenre?this.loadFilteredTvShows():this.loadTvShows(),window.scrollTo(0,0))}loadNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.selectedGenre?this.loadFilteredTvShows():this.loadTvShows(),window.scrollTo(0,0))}getYear(e){return e?new Date(e).getFullYear().toString():"Bilinmiyor"}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(v.f))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-tv-list"]],standalone:!0,features:[t.aNF],decls:18,vars:9,consts:[["noImage",""],[1,"container"],[1,"row","mb-4"],[1,"col"],[1,"page-title"],[1,"text-muted"],[1,"genres-filter","mb-4"],[1,"d-flex","flex-wrap","align-items-center"],[1,"me-3","mb-2"],[1,"btn","btn-sm","mb-2","me-2",3,"click","ngClass"],["class","btn btn-sm mb-2 me-2",3,"ngClass","click",4,"ngFor","ngForOf"],["class","text-center my-5",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-info",4,"ngIf"],[4,"ngIf"],[1,"text-center","my-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"alert","alert-danger"],[1,"alert","alert-info"],[1,"row"],["class","col-sm-6 col-md-4 col-lg-3 mb-4",4,"ngFor","ngForOf"],[1,"pagination-container","d-flex","justify-content-center","my-4"],[1,"btn","btn-outline-primary","me-2",3,"click","disabled"],[1,"bi","bi-chevron-left"],[1,"pagination-info","align-self-center","mx-3"],[1,"btn","btn-outline-primary","ms-2",3,"click","disabled"],[1,"bi","bi-chevron-right"],[1,"col-sm-6","col-md-4","col-lg-3","mb-4"],[1,"card","tv-card","h-100"],[1,"card-rating-badge"],[3,"ngClass"],[1,"bi","bi-star-fill"],["class","card-img-top",3,"src","alt",4,"ngIf","ngIfElse"],[1,"card-body"],[1,"card-title",3,"title"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"badge","bg-light","text-dark","border"],[1,"bi","bi-hand-thumbs-up"],[1,"card-text","tv-overview"],[1,"btn","btn-primary","w-100",3,"routerLink"],[1,"card-img-top",3,"src","alt"],[1,"no-image","d-flex","align-items-center","justify-content-center","bg-light"]],template:function(o,i){1&o&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),t.EFF(4,"Diziler"),t.k0s(),t.j41(5,"p",5),t.EFF(6,"Pop\xfcler dizileri ke\u015ffedin ve detaylar\u0131n\u0131 inceleyin"),t.k0s()()(),t.j41(7,"div",6)(8,"div",7)(9,"h5",8),t.EFF(10,"T\xfcrler:"),t.k0s(),t.j41(11,"button",9),t.bIt("click",function(){return i.filterByGenre(null)}),t.EFF(12," T\xfcm\xfc "),t.k0s(),t.DNE(13,u,2,5,"button",10),t.k0s()(),t.DNE(14,h,4,0,"div",11)(15,f,2,1,"div",12)(16,b,2,0,"div",13)(17,x,12,5,"div",14),t.k0s()),2&o&&(t.R7$(11),t.Y8G("ngClass",t.l_i(6,c,null===i.selectedGenre,null!==i.selectedGenre)),t.R7$(2),t.Y8G("ngForOf",i.genres),t.R7$(),t.Y8G("ngIf",i.isLoading),t.R7$(),t.Y8G("ngIf",i.error),t.R7$(),t.Y8G("ngIf",!i.isLoading&&!i.error&&0===i.tvShows.length),t.R7$(),t.Y8G("ngIf",!i.isLoading&&!i.error&&i.tvShows.length>0))},dependencies:[a.MD,a.YU,a.Sq,a.bT,a.P9,a.QX,g.Wk],styles:['.page-title[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;padding-bottom:10px;font-weight:700}.page-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:60px;height:3px;background-color:#007bff}.genres-filter[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:15px;border-radius:10px;box-shadow:0 2px 5px #0000000d}.tv-card[_ngcontent-%COMP%]{transition:transform .3s,box-shadow .3s;position:relative}.tv-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0000001a}.tv-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:10px}.tv-card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{height:350px;object-fit:cover}.tv-card[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{height:350px;background-color:#e9ecef}.tv-card[_ngcontent-%COMP%]   .card-rating-badge[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background-color:#000000b3;color:#fff;padding:5px 10px;border-radius:20px;font-weight:600;font-size:.9rem;z-index:1}.tv-card[_ngcontent-%COMP%]   .tv-overview[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;margin-bottom:15px;height:60px;overflow:hidden}.pagination-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{font-weight:500;background-color:#f8f9fa;padding:8px 15px;border-radius:20px}.pagination-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:100px}']})}}return n})()}}]);